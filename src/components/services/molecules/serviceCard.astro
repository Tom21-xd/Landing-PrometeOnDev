---
export interface Props {
  icon: string;
  title: string;
  description: string;
  url?: string;
}
const { icon, title, description, url = "#" } = Astro.props;
---

<div class="bg-white rounded-lg shadow-md hover:shadow-xl w-full service-card group flex flex-col items-center">
  <!-- Imagen en la parte superior que ocupa todo el ancho -->
  <div class="w-full bg-blue-100 flex justify-center items-center rounded-t-lg image-container">
    <img src={icon} alt={title} class="w-full object-cover group-hover:animate-pulse transition-all duration-300" />
  </div>
  
  <!-- Contenido de la tarjeta -->
  <div class="p-6 flex flex-col items-center w-full">
    <h3 class="text-xl font-semibold mb-3 text-center text-gray-800">{title}</h3>
    <p class="text-gray-600 text-center mb-6 text-sm">{description}</p>
    
    <!-- Botón de Ver más -->
    <a 
      href={url}
      class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors duration-300"
      aria-label="Ver más"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </a>
  </div>
</div>

<style>
  .service-card {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.5s ease-out, box-shadow 0.3s ease, transform 0.3s ease;
    max-width: 350px;
    min-height: 380px;
    margin: 0 auto;
  }
  
  .service-card.animate {
    opacity: 1;
    transform: translateY(0);
  }
  
  .image-container {
    height: 180px; /* Altura fija para la sección de la imagen */
    overflow: hidden;
    background-color: #E0E8FF; /* Un tono de azul claro similar al de la imagen de referencia */
  }
  
  .image-container img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Para asegurar que la imagen se muestre completamente */
  }
  
  /* Efectos al hacer hover */
  .service-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.8s ease-out;
  }
  
  .service-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  /* Animación de palpitación para el icono */
  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  
  .group:hover img {
    animation: pulse 1.5s infinite;
  }
</style>