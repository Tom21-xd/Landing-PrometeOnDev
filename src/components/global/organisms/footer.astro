---
import NavItem from "../atoms/navItem.astro";
import SocialIconFooter from "../atoms/socialIconFooter.astro";
import ThemeToggle from "../atoms/themeToggle.astro";
import { getWhatsAppLink } from "@/lib/whatsapp";

const navItems = [
  { label: "Inicio", href: "/" },
  { label: "Sobre nosotros", href: "/about" },
  { label: "Servicios", href: "/services" },
  { label: "Portafolio", href: "/portfolio" },
  { label: "Contacto", href: "/contact" },
];

const socialLinks = [
  {
    href: "https://www.facebook.com/profile.php?id=61575255925454",
    iconClass: "fa-brands fa-facebook",
    ariaLabel: "Visitar el perfil de PrometeonDev en Facebook",
  },
  {
    href: "https://www.linkedin.com/company/prometeondev/",
    iconClass: "fa-brands fa-linkedin",
    ariaLabel: "Visitar la página de empresa de PrometeonDev en LinkedIn",
  },
  {
    href: "https://www.instagram.com/prometeon.dev/",
    iconClass: "fa-brands fa-instagram",
    ariaLabel: "Ver el perfil de PrometeonDev en Instagram",
  },
  {
    href: "https://x.com/PrometeonDev",
    iconClass: "fa-brands fa-x-twitter",
    ariaLabel: "Ir al perfil de PrometeonDev en X (Twitter)",
  },
  {
    href: getWhatsAppLink(),
    iconClass: "fa-brands fa-whatsapp",
    ariaLabel: "Enviar mensaje a PrometeonDev por WhatsApp",
  },
];

const email: string = import.meta.env.PUBLIC_COMPANY_EMAIL || "";
---

<footer
  class="bg-gradient-to-t from-dark/20 dark:from-dark-background-light via-80% to-60% pt-10 pb-4 flex flex-col items-center gap-6 text-dark dark:text-white transition-colors"
>
  <a
    href="/"
    title="Ir al inicio de PrometeonDev"
    aria-label="Ir al inicio de PrometeonDev"
  >
    <img
      src="/global/logo-blanco.webp"
      alt="Logo PrometeonDev"
      title="Volver al inicio de PrometeonDev"
      class="hidden dark:block w-12 h-14 transition"
      loading="lazy"
    />

    <img
      src="/global/logo-negro.webp"
      alt="Logo PrometeonDev"
      title="Volver al inicio de PrometeonDev"
      class="block dark:hidden w-12 h-14 transition"
      loading="lazy"
    /></a
  >

  <nav>
    <ul
      class="flex flex-wrap justify-center gap-4 md:gap-8 text-lg font-semibold"
    >
      {navItems.map((item) => <NavItem {...item} />)}
    </ul>
  </nav>

  <div class="flex items-center gap-4 flex-wrap justify-center">
    {socialLinks.map((link) => <SocialIconFooter {...link} />)}
  </div>

  <div class="text-center flex flex-col items-center gap-4 -mt-4">
    <a
      href={`mailto:${email}`}
      title="Enviar un correo electrónico a PrometeonDev"
      aria-label="Enviar un correo electrónico a PrometeonDev"
      class="flex items-center gap-2 text-sm font-medium hover:text-primary transition"
    >
      <i class="fa-solid fa-envelope text-base"></i>
      {email}
    </a>

    <ThemeToggle />
  </div>

  <hr
    class="w-full max-w-screen-md border-t border-dark dark:border-white opacity-20"
  />

  <p class="text-center text-sm opacity-70">
    © 2025 PrometeonDev. All Rights Reserved.
  </p>
</footer>
